const BEATMAP_PROVIDER={DOWNLOAD:"https://api.nerinyan.moe/d/",PREVIEW:"https://b.ppy.sh/preview/",COVER:"https://assets.ppy.sh/beatmaps/",API_INFO:"https://osu.direct/api/v2/s/",API_INFO_V2:"https://osu.direct/api/v2/s/",API_LIST:"https://osu.direct/api/v2/search"};function getDownloadUrl(t){return`${BEATMAP_PROVIDER.DOWNLOAD}${t}?noVideo=1`}function getPreviewUrl(t){return`${BEATMAP_PROVIDER.PREVIEW}${t}.mp3`}function getCoverUrl(t){return`${BEATMAP_PROVIDER.COVER}${t}/covers/cover.jpg`}function getInfoUrl(t){return`${BEATMAP_PROVIDER.API_INFO}${t}`}function getInfoUrlV2(t){return`${BEATMAP_PROVIDER.API_INFO_V2}${t}`}!function(){const t=window.fetch;window.fetch=async function(...e){const r=e[0]instanceof Request?e[0].url:e[0];if("string"==typeof r&&r.includes("osu.direct/api/v2/")){const r=await t.apply(this,e),s=r.json.bind(r);return r.json=async()=>{const t=await s();if(t.beatmapsets&&Array.isArray(t.beatmapsets))return{data:t.beatmapsets.map(t=>({sid:t.id,title:t.title,artist:t.artist,creator:t.creator,approved:t.ranked}))};if(t.id&&t.beatmaps){const e=t.beatmaps.map(e=>({bid:e.id,mode:e.mode_int,star:e.difficulty_rating,version:e.version,creator:t.creator,length:e.total_length,BPM:e.bpm})),r={sid:t.id,title:t.title,artist:t.artist,creator:t.creator,approved:t.ranked};return{status:0,data:Object.assign(e,r)}}return t},r}return t.apply(this,e)}}();