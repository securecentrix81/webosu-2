var savedSettings=JSON.parse(localStorage.getItem("osugamesettings")||"{}"),providerId=savedSettings.beatmapProvider||0;const PROVIDER_TEMPLATES={0:{name:"Sayobot",DOWNLOAD:"https://txy1.sayobot.cn/beatmaps/download/mini/{sid}",PREVIEW:"https://cdn.sayobot.cn:25225/preview/{sid}.mp3",COVER:"https://cdn.sayobot.cn:25225/beatmaps/{sid}/covers/cover.webp",API_INFO:"https://api.sayobot.cn/beatmapinfo?1={sid}",API_LIST:"https://api.sayobot.cn/beatmaplist"},1:{name:"osu.direct",DOWNLOAD:"https://api.nerinyan.moe/d/{sid}?noVideo=1",PREVIEW:"https://b.ppy.sh/preview/{sid}.mp3",COVER:"https://assets.ppy.sh/beatmaps/{sid}/covers/cover.jpg",API_INFO:"https://osu.direct/api/v2/s/{sid}",API_LIST:"https://osu.direct/api/v2/search"}};var activeProvider=PROVIDER_TEMPLATES[providerId]||PROVIDER_TEMPLATES[0];function getDownloadUrl(t){return activeProvider.DOWNLOAD.replace("{sid}",t)}function getPreviewUrl(t){return activeProvider.PREVIEW.replace("{sid}",t)}function getCoverUrl(t){return activeProvider.COVER.replace("{sid}",t)}function getInfoUrl(t){return activeProvider.API_INFO.replace("{sid}",t)}function getInfoUrlV2(t){return activeProvider.API_INFO.replace("{sid}",t)}"osu.direct"===activeProvider.name&&function(){const t=window.fetch;window.fetch=async function(...e){const i=e[0]instanceof Request?e[0].url:e[0];if("string"==typeof i&&i.includes("osu.direct/api/v2/")){const i=await t.apply(this,e),a=i.json.bind(i);return i.json=async()=>{const t=await a();return t.beatmapsets?{data:t.beatmapsets.map(t=>({sid:t.id,title:t.title,artist:t.artist,creator:t.creator,approved:t.ranked}))}:t.id?{status:0,data:Object.assign(t.beatmaps.map(e=>({bid:e.id,version:e.version,star:e.difficulty_rating,mode:e.mode_int,length:e.total_length,BPM:t.bpm,creator:t.creator})),{sid:t.id,title:t.title,artist:t.artist,creator:t.creator,approved:t.ranked})}:t},i}return t.apply(this,e)}}();